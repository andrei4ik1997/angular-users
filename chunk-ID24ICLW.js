import{T as k,p as D}from"./chunk-4NN5HLTW.js";import"./chunk-UTWM3NJN.js";import{k as x,pa as S,ra as a,sa as I,ta as R,ya as A}from"./chunk-BGWJ4OJL.js";import{Bb as y,Da as m,Gb as C,Hb as U,Ib as _,Ja as d,Mb as h,Pb as g,Qb as n,cc as v,ia as o,ma as u,nb as s,tb as f,vc as T,xa as p,xb as E,ya as c}from"./chunk-2IVU3G6E.js";import{d as b}from"./chunk-AXD3V6Z4.js";import"./chunk-7CGTOI24.js";function O(r,t){if(r&1){let e=h();C(0,"app-no-result",2),g("onButtonClick",function(){p(e);let N=n();return c(N.retry())}),U()}}function w(r,t){if(r&1&&_(0,"app-user-form",1),r&2){let e=n();E("isEditMode",!0)("user",e.user())}}var l=class r{commonService=o(R);usersUiService=o(A);destroyRef=o(m);router=o(x);userId=d(null,{alias:"userID",transform:T});user=s(null);isError=s(!1);ngOnInit(){let t=this.router.lastSuccessfulNavigation?.extras.state?.[b]??null;a(t)?this.getUser():(this.user.set(t),this.commonService.setPageTitle(t.name))}retry(){this.getUser()}getUser(){this.isError.set(!1);let t=this.userId();a(t)?this.isError.set(!0):this.usersUiService.getUser(t).pipe(S(this.destroyRef)).subscribe(e=>{I(e)?(this.isError.set(!0),this.commonService.showNotification("error","Get User Error")):(this.user.set(e),this.commonService.setPageTitle(e.name))})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=u({type:r,selectors:[["app-edit-user"]],inputs:{userId:[1,"userID","userId"]},standalone:!0,features:[v],decls:2,vars:1,consts:[["subTitle","Please click button to reload page","buttonText","Retry","title","An unexpected error has occurred"],[3,"isEditMode","user"],["subTitle","Please click button to reload page","buttonText","Retry","title","An unexpected error has occurred",3,"onButtonClick"]],template:function(e,i){e&1&&f(0,O,1,0,"app-no-result",0)(1,w,1,2,"app-user-form",1),e&2&&y(i.isError()?0:1)},dependencies:[D,k],changeDetection:0})};export{l as default};
